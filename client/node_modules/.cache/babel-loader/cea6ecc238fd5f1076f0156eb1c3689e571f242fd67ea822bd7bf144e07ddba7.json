{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import{AuthProvider,useAuth}from'./contexts/AuthContext';// Components\nimport Navbar from'./components/layout/Navbar';import Footer from'./components/layout/Footer';// Pages\nimport Home from'./pages/Home';import Login from'./pages/auth/Login';import Register from'./pages/auth/Register';import StudentDashboard from'./pages/student/StudentDashboard';import TeacherDashboard from'./pages/teacher/TeacherDashboard';import AdminDashboard from'./pages/admin/AdminDashboard';import TeacherProfile from'./pages/teacher/TeacherProfile';import BookClass from'./pages/student/BookClass';import MyBookings from'./pages/student/MyBookings';import TeacherBookings from'./pages/teacher/TeacherBookings';import TeacherSchedule from'./pages/teacher/TeacherSchedule';import VideoCall from'./pages/VideoCall';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,allowedRoles=[]}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"})});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(allowedRoles.length>0&&!allowedRoles.includes(user.role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};// App Routes Component\nconst AppRoutes=()=>{const{user}=useAuth();return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/teacher/:id\",element:/*#__PURE__*/_jsx(TeacherProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:(user===null||user===void 0?void 0:user.role)==='student'?/*#__PURE__*/_jsx(StudentDashboard,{}):(user===null||user===void 0?void 0:user.role)==='teacher'?/*#__PURE__*/_jsx(TeacherDashboard,{}):(user===null||user===void 0?void 0:user.role)==='admin'?/*#__PURE__*/_jsx(AdminDashboard,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})}),/*#__PURE__*/_jsx(Route,{path:\"/student/book-class/:teacherId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['student'],children:/*#__PURE__*/_jsx(BookClass,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/student/bookings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['student'],children:/*#__PURE__*/_jsx(MyBookings,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/teacher/bookings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['teacher'],children:/*#__PURE__*/_jsx(TeacherBookings,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/teacher/schedule\",element:/*#__PURE__*/_jsx(ProtectedRoute,{allowedRoles:['teacher'],children:/*#__PURE__*/_jsx(TeacherSchedule,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/video-call/:bookingId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(VideoCall,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]});};// Main App Component\nfunction App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(AppRoutes,{})}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:'#363636',color:'#fff'},success:{duration:3000,iconTheme:{primary:'#10B981',secondary:'#fff'}},error:{duration:5000,iconTheme:{primary:'#EF4444',secondary:'#fff'}}}})]})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","Toaster","AuthProvider","useAuth","Navbar","Footer","Home","Login","Register","StudentDashboard","TeacherDashboard","AdminDashboard","TeacherProfile","BookClass","MyBookings","TeacherBookings","TeacherSchedule","VideoCall","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","allowedRoles","user","loading","className","to","replace","length","includes","role","AppRoutes","path","element","App","position","toastOptions","duration","style","background","color","success","iconTheme","primary","secondary","error"],"sources":["C:/Users/HP Victus/Desktop/React/077/client/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\r\n\r\n// Components\r\nimport Navbar from './components/layout/Navbar';\r\nimport Footer from './components/layout/Footer';\r\n\r\n// Pages\r\nimport Home from './pages/Home';\r\nimport Login from './pages/auth/Login';\r\nimport Register from './pages/auth/Register';\r\nimport StudentDashboard from './pages/student/StudentDashboard';\r\nimport TeacherDashboard from './pages/teacher/TeacherDashboard';\r\nimport AdminDashboard from './pages/admin/AdminDashboard';\r\nimport TeacherProfile from './pages/teacher/TeacherProfile';\r\nimport BookClass from './pages/student/BookClass';\r\nimport MyBookings from './pages/student/MyBookings';\r\nimport TeacherBookings from './pages/teacher/TeacherBookings';\r\nimport TeacherSchedule from './pages/teacher/TeacherSchedule';\r\nimport VideoCall from './pages/VideoCall';\r\n\r\n// Protected Route Component\r\nconst ProtectedRoute = ({ children, allowedRoles = [] }) => {\r\n  const { user, loading } = useAuth();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  if (allowedRoles.length > 0 && !allowedRoles.includes(user.role)) {\r\n    return <Navigate to=\"/\" replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\n// App Routes Component\r\nconst AppRoutes = () => {\r\n  const { user } = useAuth();\r\n\r\n  return (\r\n    <Routes>\r\n      {/* Public Routes */}\r\n      <Route path=\"/\" element={<Home />} />\r\n      <Route path=\"/login\" element={<Login />} />\r\n      <Route path=\"/register\" element={<Register />} />\r\n      <Route path=\"/teacher/:id\" element={<TeacherProfile />} />\r\n\r\n      {/* Protected Routes */}\r\n      <Route\r\n        path=\"/dashboard\"\r\n        element={\r\n          <ProtectedRoute>\r\n            {user?.role === 'student' ? (\r\n              <StudentDashboard />\r\n            ) : user?.role === 'teacher' ? (\r\n              <TeacherDashboard />\r\n            ) : user?.role === 'admin' ? (\r\n              <AdminDashboard />\r\n            ) : (\r\n              <Navigate to=\"/\" replace />\r\n            )}\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n\r\n      {/* Student Routes */}\r\n      <Route\r\n        path=\"/student/book-class/:teacherId\"\r\n        element={\r\n          <ProtectedRoute allowedRoles={['student']}>\r\n            <BookClass />\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/student/bookings\"\r\n        element={\r\n          <ProtectedRoute allowedRoles={['student']}>\r\n            <MyBookings />\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n\r\n      {/* Teacher Routes */}\r\n      <Route\r\n        path=\"/teacher/bookings\"\r\n        element={\r\n          <ProtectedRoute allowedRoles={['teacher']}>\r\n            <TeacherBookings />\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n      <Route\r\n        path=\"/teacher/schedule\"\r\n        element={\r\n          <ProtectedRoute allowedRoles={['teacher']}>\r\n            <TeacherSchedule />\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n\r\n      {/* Video Call Route */}\r\n      <Route\r\n        path=\"/video-call/:bookingId\"\r\n        element={\r\n          <ProtectedRoute>\r\n            <VideoCall />\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n\r\n      {/* 404 Route */}\r\n      <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n    </Routes>\r\n  );\r\n};\r\n\r\n// Main App Component\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <Router>\r\n        <div className=\"min-h-screen flex flex-col\">\r\n          <Navbar />\r\n          <main className=\"flex-1\">\r\n            <AppRoutes />\r\n          </main>\r\n          <Footer />\r\n        </div>\r\n        <Toaster\r\n          position=\"top-right\"\r\n          toastOptions={{\r\n            duration: 4000,\r\n            style: {\r\n              background: '#363636',\r\n              color: '#fff',\r\n            },\r\n            success: {\r\n              duration: 3000,\r\n              iconTheme: {\r\n                primary: '#10B981',\r\n                secondary: '#fff',\r\n              },\r\n            },\r\n            error: {\r\n              duration: 5000,\r\n              iconTheme: {\r\n                primary: '#EF4444',\r\n                secondary: '#fff',\r\n              },\r\n            },\r\n          }}\r\n        />\r\n      </Router>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}